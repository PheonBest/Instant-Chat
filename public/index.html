<!DOCTYPE html>
<html>
<head>
	<title>Socket.io is easy</title>
	<style>
	h1 {
		color:#333;
		text-align:center;
		background-color: silver;
		border-radius: 15px 50px 30px;
		padding: 20px;
		text-shadow: 5px;
	}
	p{
		background-color: silver;
		font-size: 1.3em;
		color:#333;
	}
	input {margin-left:20px;}

	</style>
</head>
<body>
	<h1>Hey !</h1>
	<script src="/socket.io/socket.io.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/addons/p5.dom.min.js"></script>
	<script>var socket = io();
	var sizeN = 30;
	var name = '';

	function setup() {
		noCanvas();
		input = createInput();
		input.position(20,100);
		button = createButton('submit');
		button.position(input.x + input.width, 100);
		button.mousePressed(sendM);
		console.log(sizeN);
	}
	
	function sendM(){
		var toChat = input.value();
		input.value('');
		if (name === ''){
			name = prompt('Quel est votre nom ?');
		}
		socket.emit('messageReached',name+': '+toChat);
		createP(name+': '+toChat);
	}

	socket.on('message',(message)=>{
		createP(message);

	});

	</script>
</body>
</html>